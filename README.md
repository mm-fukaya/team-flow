# GitStatus - GitHub Organization Activity Tracker

GitHub組織のメンバー活動を追跡・分析するWebアプリケーションです。

## 主な機能

### 1. データ管理
- **月毎データ取得**: 指定した月のデータを一括取得
- **月毎ファイル保存**: 各月のデータを個別のJSONファイルに保存
- **取得済みデータ表示**: 組織別の取得済み月データをリスト形式で表示
- **データ削除**: 不要な月データの削除機能
- **再取得確認**: 既に取得済みの月を再取得する際の確認ダイアログ

### 2. 表示期間設定
- **期間指定表示**: 開始月と終了月を指定してデータを表示
- **自動データ読み込み**: 期間を変更すると自動的にデータが読み込まれる



### 4. システム情報
- **GitHub API レートリミット**: API使用状況を最下部に表示
- **レート制限対応**: GitHub APIのレート制限を考慮した取得

## 使用方法

### データ管理
1. **月を選択**: 「取得する月」フィールドで月を選択
2. **データ取得**: 「月毎データ取得（全組織）」ボタンをクリック
3. **確認ダイアログ**: 既に取得済みの場合は確認ダイアログが表示
4. **取得済みデータ確認**: 組織別の取得済み月データをリストで確認
5. **データ削除**: 不要な月データの削除ボタンをクリック

### 表示期間設定
1. **期間設定**: 開始月と終了月を指定
2. **自動表示**: 期間を変更すると自動的にデータが読み込まれる



## UI構成

### メイン画面
1. **タイトル**: GitStatus - GitHub活動データ
2. **データ管理**: 月毎データ取得と取得済みデータの管理
3. **表示期間設定**: 開始月と終了月の設定
4. **GitHub API レートリミット**: 最下部のAPI使用状況

### データ管理セクション
- **月毎データ取得**: 月選択と取得ボタン
- **取得済みデータ**: 組織別の月データリスト（スクロール可能）

## API エンドポイント

### 月毎データ関連
- `GET /api/monthly-data/:orgName` - 組織の月毎データ一覧取得
- `POST /api/fetch-monthly-data` - 月毎データ取得・保存
- `DELETE /api/monthly-data/:orgName/:monthStart` - 月毎データ削除
- `GET /api/monthly-activities` - 指定期間の月毎データ統合取得



### 従来のエンドポイント
- `GET /api/activities` - 全組織の活動データ取得
- `GET /api/organizations` - 組織一覧取得
- `POST /api/fetch` - 全組織のデータ取得

## データファイル構造

### 月毎データファイル (`{orgName}-monthly-activities.json`)
```json
{
  "organization": "macromill",
  "months": {
    "2025-06": {
      "monthKey": "2025-06",
      "monthStart": "2025-06-01",
      "monthEnd": "2025-06-30",
      "lastUpdated": "2025-07-19T23:04:30.719Z",
      "activities": [...]
    }
  },
  "lastUpdated": "2025-07-19T23:04:30.719Z"
}
```



## セットアップ

### 前提条件
- Node.js (v16以上)
- npm または yarn
- GitHub Personal Access Token

### インストール
1. リポジトリをクローン
```bash
git clone <repository-url>
cd GitStatus
```

2. 依存関係をインストール
```bash
# バックエンド
cd backend
npm install

# フロントエンド
cd ../frontend
npm install
```

3. 環境変数を設定
```bash
# backend/.env
GITHUB_TOKEN=your_github_token_here
```

4. アプリケーションを起動
```bash
# バックエンド（ポート3001）
cd backend
npm start

# フロントエンド（ポート3000）
cd frontend
npm start
```

## 設定ファイル

### `config/organizations.json`
```json
{
  "organizations": [
    {
      "name": "macromill",
      "displayName": "macromill"
    },
    {
      "name": "macromill-mint",
      "displayName": "macromill-mint"
    }
  ]
}
```

## 技術スタック

### バックエンド
- **Node.js** + **TypeScript**
- **Express.js** - Webフレームワーク
- **Octokit** - GitHub API クライアント
- **Moment.js** - 日付処理

### フロントエンド
- **React** + **TypeScript**
- **Tailwind CSS** - スタイリング
- **Axios** - HTTP クライアント
- **Moment.js** - 日付処理

## UI改善履歴

### 最新の改善（v2.0）
- **シンプル化**: 不要な機能を削除し、コア機能に集中
- **データ管理統合**: データ取得設定と取得済みデータを一箇所に統合
- **リスト形式表示**: 月毎データを効率的なリスト形式で表示
- **自動化**: 期間設定の自動データ読み込み
- **スクロール対応**: 大量データにも対応したスクロール機能

### 削除された機能
- 月単位データ表示機能
- 組織別統計表示
- 全組織メンバー選択機能
- 最終更新日時表示
- 期間データ読み込みボタン
- 週単位データ取得機能
- デバッグ情報表示

## 注意事項

1. **GitHub API レート制限**: 認証済みリクエストで5,000リクエスト/時間
2. **テストモード**: 開発・テスト時はテストモードを使用してAPI使用量を削減
3. **データ保存**: 取得したデータは `backend/data/` ディレクトリに保存
4. **エラーハンドリング**: API エラーやネットワークエラーに対する適切な処理を実装

## トラブルシューティング

### よくある問題
1. **レート制限エラー**: テストモードを使用するか、しばらく待ってから再試行
2. **データが取得できない**: GitHub Tokenの権限を確認
3. **フロントエンドエラー**: バックエンドサーバーが起動しているか確認

### ログ確認
- バックエンドのコンソールログで詳細なエラー情報を確認
- ブラウザの開発者ツールでネットワークエラーを確認 